use simd_demo::{
    matrix::{avx, normal},
    Align32,
};

fn main() {
    let x1 = avx::Matrix2x2::new([[1.0, 2.0], [3.0, 4.0]]);
    let y1 = avx::Matrix2x2::new([[5.0, 6.0], [7.0, 8.0]]);
    let z1 = x1 * y1;

    let x2 = normal::Matrix2x2::new([[1.0, 2.0], [3.0, 4.0]]);
    let y2 = normal::Matrix2x2::new([[5.0, 6.0], [7.0, 8.0]]);
    let z2 = x2 * y2;

    assert_eq!(*z1, *z2);

    println!("{z1:?}");

    let x1 = avx::Matrix4x4::new(Align32([
        [1.0, 2.0, 3.0, 4.0],
        [5.0, 6.0, 7.0, 8.0],
        [9.0, 10.0, 11.0, 12.0],
        [13.0, 14.0, 15.0, 16.0],
    ]));
    let y1 = avx::Matrix4x4::new(Align32([
        [17.0, 18.0, 19.0, 20.0],
        [21.0, 22.0, 23.0, 24.0],
        [25.0, 26.0, 27.0, 28.0],
        [29.0, 30.0, 31.0, 32.0],
    ]));
    let z1 = x1 * y1;

    let x2 = normal::Matrix4x4([
        [1.0, 2.0, 3.0, 4.0],
        [5.0, 6.0, 7.0, 8.0],
        [9.0, 10.0, 11.0, 12.0],
        [13.0, 14.0, 15.0, 16.0],
    ]);
    let y2 = normal::Matrix4x4([
        [17.0, 18.0, 19.0, 20.0],
        [21.0, 22.0, 23.0, 24.0],
        [25.0, 26.0, 27.0, 28.0],
        [29.0, 30.0, 31.0, 32.0],
    ]);
    let z2 = x2 * y2;

    assert_eq!(*z1.as_array(), z2.0);
}
